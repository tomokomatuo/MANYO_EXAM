<h1>タスク一覧</h1>
<p><%= notice %></p>

<%= form_with(model: Task.new, method: :get, url: tasks_path, local: true) do |f| %>

 <%= f.label :title_search, "タイトル検索" %>
 <%= f.text_field :title %>

 <%= f.label :condition_search, "状態検索" %>
 <%= f.select :condition, [["未着手", "未着手"], ["着手中", "着手中"], ["完了", "完了"]], include_blank: true, selected: '' %>

 <%= f.hidden_field :search, value: 'true' %>
 <%= f.submit '検索'%>
<% end %>
<%= link_to "終了期限でソートする", tasks_path(sort_expired: "true"), id: 'sort' %>
<table>
 <tr>
   <th>タスク名</th>
   <th>タスク詳細</th>
   <th>終了期限</th>
   <th>状態</th>
   <th>優先順位</th>
   <th>作者</th>
  </tr>
    
   <% @tasks.each do |task| %>
    <tr>
      <td class="title_row"><%= task.title %></td>
      <td><%= task.content %></td>
      <td class="date_row"><%= task.dead_line %></td>
      <td><%= task.condition %></td>
      <td><%= task.priority %></td>
      <td><%= task.author %></td>
      <td><%= link_to t('view.show'), task_path(task.id), class: "show_link" %></td>
      <td><%= link_to t('view.edit'), edit_task_path(task.id) %></td>
      <td><%= link_to t('view.delete'), task_path(task.id), method: :delete, data: { confirm: '本当に削除していいですか?'} %></td>
  </tr>
    <% end %> 
</table>
<%= link_to t('view.go_new_task_path'), new_task_path %>